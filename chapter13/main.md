# 13. Poker Made Simple: The AKQ Game

- ベットとブラフの比率は、双方に明確なハンドの価値がある場合(つまり、ナッツを持っているか、マージナルハンドを持っているか、デッドハンドを持っているか)に、最適なプレイをするための鍵となります。
- リミットポーカーでは、ブラフにしか勝てないが、より良いハンドにしかコールされないようなハンドをリバーのセカンドポジションでベットするのは、事実上常に間違っています。
- ブロッカー効果は、相手のハンドレンジに大きな影響を与えることがあります。

---

ポーカーゲームにおけるゲーム理論の研究を、対称的で自明でないポーカーの、おそらく最も単純な形を表すゲームで続けます。このゲームに最初に接したのは、マイク・キャロによるカード・プレイヤー誌の記事でした。彼はこのゲームを、ベットとブラフの比率の単純化されたオブジェクトレッスンとして意図していたと思われます。私たちはまた、このゲームが最初に紹介されたリミットの場合を超えて研究することによって、これを拡張することによって、ノーリミットポーカーについて驚くべきことを発見しました。しかし、今は、このゲームのハーフストリートリミットのケースに関心があります。

このゲームの基本要素は以下の通りです。

- A、K、Qを含む3枚のカードデッキがある。
- プレイヤーには1枚ずつカードが配られ、最初のアンティがある。
- ベッティングラウンドがあり、その後にショーダウンが行われる(どちらのプレイヤーもフォールドしない場合)。対決ではハイカードが勝つ。

スリーカードデッキでは、これまでのゲームでは考慮しなかったトピックが導入されます。\[0,1\]Gameでは、両プレイヤーは対称的な分布を持っており、一方のプレイヤーのカードが相手のカードに影響を与えることはありませんでした。しかし、このゲームでは、自分がAを持っていれば、相手はKかQを持っています。同様に、自分がQを持っていれば、相手は半分の確率でKを、半分の確率でAを持っています。

## Ex.13.1 AKQ Game \#1

- 1回のハーフストリートゲーム
  - XがOOP, YがIP
  - Xは最初必ずCheckする
- ポットサイズは $2$
- リミットベッティングであり、サイズは $1$
- このゲームの完全なショーダウンの利得行列(Yの視点から)は以下の通り

|X/Y|A-Bet|A-Check|K-Bet|K-Check|Q-Bet|Q-Check|
|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
|A-Call|-|-|-1|0|-1|0|
|A-Fold|-|-|+2|0|+2|0|
|K-Call|+1|0|-|-|-1|0|
|K-Fold|0|0|-|-|+2|0|
|Q-Call|+1|0|+1|0|-|-|
|Q-Fold|0|0|0|0|-|-|

目標は、このゲームの最適戦略を見つけることです。支配的な戦略を排除することで、すぐにこのゲームを縮小することができます。XがAを持っているときの選択肢を比較すると、CallはすべてのケースでFoldの期待値以上であることがわかります。したがって、AをFoldすることは、AでCallすることに支配されます。この結果、Xの戦略オプションからAをFoldするというオプションを排除することができます。同様に、QでCallすることはQでFoldすることに支配されていることがわかります。したがって、戦略オプションからQでのCallを除外し、ゲームを単純化することができます。

|X/Y|A-Bet|A-Check|K-Bet|K-Check|Q-Bet|Q-Check|
|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
|A-Call|-|-|-1|0|-1|0|
|K-Call|+1|0|-|-|-1|0|
|K-Fold|0|0|-|-|+2|0|
|Q-Fold|0|0|0|0|-|-|

ここで、Yに対して支配的な戦略に注目します。KをBetすることは、AをCheckすることと同様に、KをCheckする戦略オプションに支配されていることがわかります。そこで、これらの選択肢を排除することで、ゲームをさらに単純化することができます。

> YのA-Check, K-Betを排除

|X/Y|A-Bet|K-Check|Q-Bet|Q-Check|
|:--:|:--:|:--:|:--:|:--:|
|A-Call|-|0|-1|0|
|K-Call|+1|-|-1|0|
|K-Fold|0|-|+2|0|
|Q-Fold|0|0|-|-|

ここで何が起こったのかを直感的に説明しましょう。まず、Xのオプションを考えました。AでCallすることと、Betに対してQをFoldするオプションです。リバーでのベットに対してナッツをフォールドすることはないし、完全に絶望的なハンドでフォールドできるときにコールすることもありません。Xがこのような行動を取ることはなく、将来取ることによって利益を得ることもないので、利得行列から単純に除外することができます。

次に、ゲームを縮小し、Yの選択に同じ推論を適用しました。YがKを持っていれば、XのAをブラフで負かすことはできないし、XのQにCallされることもありません。また、Aを持っていれば、Betしても負けることはなく、KからCallされるかもしれません。

実際、戦略オプションの観点からは、このゲームは13章のゲームと同じように2x2の行列です。ここで、そこで説明したように、純粋な観点からの戦略の振動を見ることができます。

Xが常にKでCallする場合、Yの最善の対応はブラフを使わずバリューベットのみをすることです。それに対してXはKをすべてフォールドします。Yはそれを利用し、常にブラフをかけます。そうするとXはKで常にコールするという元の戦略に戻ります。これは、混合戦略におけるこれらの戦略の間に均衡があることを示しています。

実際に、支配されていない戦略同士の均衡を決定することで、2x2の行列を作ることができます。

YがQをブラフするかどうか、XがKでコールするかどうかです。

Xが持ちうるハンドとその結果を考慮して、2つの選択肢からYのEQを求めます。

4つの戦略オプションを挙げることができます。

- $Y_1$: YはQでブラフをする
- $Y_2$ : YはQをCheckする
- $X_1$ : XはKでCallする
- $X_2$ : XはKをFoldする

それぞれの対戦の期待値を求めることができます。

### $Y_1$ vs $X_1$

- YがAを持っている場合、XのKに対して1点を獲得し、XのQに対しては何も獲得しません。
- YがKを持っている場合、Betは発生しません。
- YがQを持っている場合、ブラフをし、XのAとKに対して1点失います。

各カードの対戦は $\frac16$ の確率で発生します。Yは1ケースでベットを獲得し、2ケースでベットを失います。

$\langle Y_1, X_1 \rangle = -\dfrac16$

### $Y_2$ vs $X_1$

- YがAを持っている場合、XのKに対しては1点を獲得し、XのQに対しては何も獲得しません。
- YがKを持っている場合、Betは発生しません。
- YがQを持っている場合、Betしません。

Yは1ケースで1点を獲得し、Betを失うことはありません。

$\langle Y_2, X_1 \rangle = \dfrac16$

### $Y_1$ vs $X_2$

- YがAを持っている場合、Betを得ることはありません(Xはフォールドします)。
- YがKを持っている場合、Betしません。
- YがQを持っている場合、XがKを持っているときはブラフでポット(2点)を獲得し、XがAを持っているときは1点を失います。

Yは、1ケースで2点獲得し、1ケースで1点を失います。

$\langle Y_1, X_2 \rangle = \dfrac16$

### $Y_2$ vs $X_2$

- YがAを持っている場合、Yがベットを得ることはありません(Xはフォールドする)。
- YがKを持っている場合、ベットしません。
- YがQを持っている場合、ベットしません。

$\langle Y_2, X_2 \rangle = 0$

その結果、以下のような2x2の行列ができます。

||YがQでBet|YがQでCheck|
|:--|:--|:--|
|XがKでCall|$-\frac16$|$+\frac16$|
|XがKでFold|$+\frac16$|$0$|

**利得行列のすべてのセルに正の定数を乗じても、ゲームの戦略的意味は変わりません**。単に-1を掛けると、2人のプレイヤーの配当が入れ替わるだけです。

AKQGame#1の行列に6を掛けると、次のようになります。

||YがQでBet|YがQでCheck|
|:--|:--|:--|
|XがKでCall|$-1$|$+1$|
|XがKでFold|$+1$|$0$|

この行列は、[Chapter10](chapter10/main.md)で読者に馴染みがあるはずです。「警官と強盗」の利得行列を思い出してみてください。

||強盗が盗みを働く|強盗が家にいる|
|:--|:--|:--|
|警官がパトロールをする|$-1$|$+1$|
|警官がパトロールをしない|$+1$|$0$|

このゲームは「警官と強盗」と同じです。分析から、最適戦略は $\frac13$ と $\frac13$ であることが分かっており、この結果をこれから直接求める結果と比較することができます。

また、各プレイヤーについて、対戦相手が自分の2つの戦略オプションの間で無関心になるような戦略を見つけることで、このゲームを解くこともできます。Qでブラフをかけるかどうかを決めなければならないYの戦略を考えてみましょう。YがQで取りうる2つの行動(XがKでコールする頻度を $c$ とする)から得られるショーダウン前のEVは次のようになります。

$\langle Y, bluff \rangle = (lose\ to\ A) + (lose\ to\ K) + (K\ folds, win\ the\ pot)$  
$\langle Y, bluff \rangle = p(X\ has\ an\ A)(lose\ one\ bet)$  
$+ p(X\ has\ a\ K) p(X\ calls) (lose\ one\ bet) + p(X\ has\ a\ K) p(X\ calls) (lose\ one\ bet)$  
$+ p(X\ has\ a\ K) p(X\ folds) (the\ pot)$  
$\langle Y, bluff \rangle = \dfrac12 \cdot (-1) + \dfrac12 \cdot c \cdot (-1) + \dfrac12 \cdot (1 - c) \cdot 2$  
$\langle Y, bluff \rangle = \dfrac{1}{2} -\dfrac{3}{2}c$

$\langle Y, check \rangle = 0$

この2つを等しいとき、

$\dfrac{1}{2} -\dfrac{3}{2}c = 0$  
$c = \dfrac{1}{3}$

次に、XがKでCallすることに無関心であるように設定します。YがQでブラフする頻度を $b$ とします。

$\langle X, call \rangle = (lose\ to\ A) + (win\ against\ Q)$  
$\langle X, call \rangle = \dfrac12 \cdot (-1) + \dfrac12 \cdot b \cdot 1$  
$\langle X, call \rangle = -\dfrac{1}{2} + \dfrac{1}{2}b$

$\langle X, fold \rangle = \dfrac12 \cdot b \cdot (-2)$
$\langle X, fold \rangle = -b$

$-\dfrac{1}{2} + \dfrac{1}{2}b = - b$  
$b = \dfrac{1}{3}$

というわけで、最適な戦略ペアができました。XはKを持っているときの $\frac13$ をCallし、YはQを持っているときの $\frac13$ をブラフします。

ここで何が起こっているのか、もう一度直感的に議論してみましょう。Yの考えは、自分のハンドからバリューを得ることです。エクスプロイト的な意味で、もしXが自分のキングでどのような戦略を取るか知っていれば、それに応じてベットしたりブラフをかけたりすることができます。しかし、そうではなく、相手が何をしようとも、単純に自分のバリューをすべて得たいとしましょう。

Yにとってバリューの源は2つあります。Qでポットを取ることと、Aでペイオフしてもらうことです。そこでYは、それぞれのオプションから得られる価値が等しくなるような状況を作りたいのです。そうすれば、XはYを利用することはできません。つまり、相手がKでCallしようがしまいが、自分の戦略全体の期待値が同じになるような頻度でブラフをかけます。この状況では、AとブラフしたQの適切な比率は3:1であることが判明しました。したがって、YはすべてのAをBetするので、Qの $\frac13$ をBetすべきです。[Chapter11](chapter11/main.md)で、このブラフとベットの比率を $\alpha$ と呼び、それが $\frac1{P+ 1}$ であることを示したことを思い出してください(式11.1参照)。2点のポットの場合、この比率は確かに $\frac13$ となることがわかります。

Xも同様の推論が成り立ちます。Xは、相手が自分のQによるブラフに無関心になるような頻度でCallしたいです。Yがブラフに成功すれば2獲得できますが、ブラフに失敗すれば1しか損をしません。つまり、ブラフに無関心にさせるためには、XはFoldの2倍の頻度でCallしなければなりません。この割合は $\frac23$ です(フォールドするハンドの $\frac13$ を残します)。しかし、Yがブラフを仕掛けてくるときの半分は、XがAを持っているときです。そこで、Xはさらに $\frac23 - \frac12$ ，つまり $\frac16$ の割合でCallする必要があります。YがQを持っているときはKがハンドの $\frac12$ を占めるので、Xは $\frac26$ 、つまり $\frac13$ のKでCallする必要があります。[Chapter11](chapter11/main.md)で、Xはブラフに勝てるハンドがあれば $\alpha$ の確率でFoldすることを示しました。ここでも、Xはブラフに勝てるハンドの $\frac13$ をFoldします。

Yはこのゲームで期待通りの価値を得ています。結局のところ、Yはずっとチェックするだけで、期待値を0にすることができたのであり、ベットとブラフはYにとって価値のあるものです。戦略と結果を評価することで、Yにとってのゲームの価値を計算することができます。各アクションの分岐の可能性をすべて計算することもできますが、その代わりに近道を使うことができます。プレイヤーが最適な戦略でプレイしているとき、Xはコールすることに無関心です。つまり、XはCallするのもFoldするのも同じようにうまくいきます。もしXが常にFoldしていたら、Xはその戦略悪用されることになります。しかし、我々はゲームの期待値を計算しているだけであり、戦略を計算しているわけではないので、Yの戦略は単純に一定に保つことができます。

YにとってのゲームのEVは、実際にはベットの $\frac1{18}$ です。これが、XがKでCallする限りにおいて採用しうるすべての戦略におけるゲームの価値であることを、検証してみてください。

これで，このハーフストリートゲームを解くことができました。

## Ex.13.2 AKQ Game \#2

- 1回のハーフストリートゲーム
  - XがOOP, YがIP
  - Xは最初必ずCheckする
- ポットサイズは $P$
- リミットベッティングであり、サイズは $1$
- このゲームの完全なショーダウンの利得行列(Yの視点から)は以下の通り

|X/Y|A-Bet|A-Check|K-Bet|K-Check|Q-Bet|Q-Check|
|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
|A-Call|-|-|-1|0|-1|0|
|A-Fold|-|-|+P|0|+P|0|
|K-Call|+1|0|-|-|-1|0|
|K-Fold|0|0|-|-|+P|0|
|Q-Call|+1|0|+1|0|-|-|
|Q-Fold|0|0|0|0|-|-|

この行列は、AKQGame#1(Ex.13.1)と同じように、支配された戦略を排除することで小さくすることができます。

|X/Y|A-Bet|K-Check|Q-Bet|Q-Check|
|:--:|:--:|:--:|:--:|:--:|
|A-Call|-|0|-1|0|
|K-Call|+1|-|-1|0|
|K-Fold|0|-|+P|0|
|Q-Fold|0|0|-|-|

2つの無関心方程式は以下のように修正できます( $b$ はYのQでのブラフ頻度、 $c$ はXのKでのコール頻度とします)。

$\langle Y, bluff \rangle = (lose\ to\ A) + (lose\ to\ K) + (K\ folds, win\ the\ pot)$  
$\langle Y, bluff \rangle = \dfrac12 \cdot (-1) + \dfrac12 \cdot c \cdot (-1) + \dfrac12 \cdot (1 - c) \cdot P$  
$\langle Y, bluff \rangle = - \dfrac{1}{2} - \dfrac{1}{2}c + \dfrac{1}{2}P - \dfrac{1}{2}Pc$

$\langle Y, check \rangle = 0$

この2つが等しいとき、

$- \dfrac{1}{2} - \dfrac{1}{2}c + \dfrac{1}{2}P - \dfrac{1}{2}Pc = 0$  
$c = \dfrac{P-1}{P+1}$

この $$ の値はXのKを持っている時のコール頻度です。YがQを持っているとき、XはAとKを半分ずつ持っています。したがって、XがCallするハンド(AとK)の割合は、 $\frac{1}{2} + \frac{1}{2}\frac{P - 1}{P + 1}$ となります。このことは、Yをブラフに無関心にするために、 $\frac{1}{P + 1}$ 、つまり今ではおなじみの定数 $\alpha$ のハンドをFoldすることを意味します。

同様にして、

$\langle X, call \rangle = (lose\ to\ A) + (win\ against\ Q)$
$\langle X, call \rangle = \dfrac12 \cdot (-1) + \dfrac12 \cdot b \cdot 1$  
$\langle X, call \rangle = - \dfrac{1}{2} + \dfrac{1}{2}b$

$\langle X, fold \rangle = -\dfrac{1}{2}bP$

この2つが等しいとき、

$- \dfrac{1}{2} + \dfrac{1}{2}b = -\dfrac{1}{2}bP$  
$b = \dfrac{1}{1 + P}$  
$b = \alpha$

そして、ここでもYのブラフとベットの比率は $\alpha$ であるべきであることがわかります。

Yにとってのゲームの期待値もすぐに計算できます。

|ハンドセット|バリュー|確率|期待値|
|:--|:--|:--|:--|
|(A, K)|$0$|$\dfrac{1}{6}$|$0$|
|(A, Q)|$-\dfrac{1}{P + 1}$|$\dfrac{1}{6}$|$-\dfrac{1}{6}(P + 1)$|
|(K, A)|$0$|$\dfrac{1}{6}$|$0$|
|(K, Q)|$\dfrac{P}{P + 1}$|$\dfrac{1}{6}$|$\dfrac{P}{6(P + 1)}$|
|(Q, A)|$0$|$\dfrac{1}{6}$|$0$|
|(K, A)|$0$|$\dfrac{1}{6}$|$0$|
|Total|||$\dfrac{P-1}{6(P + 1)}$|

つまり、Yに対するゲームの総合的な期待値は、$\frac{P-1}{6(P + 1)}$となります。ポットのサイズが無限大になると、このゲームの価値は $\frac16$ に収束することがわかります。ポットが非常に大きい場合、XはほとんどすべてのKでCallするだけであり、Yがブラフをすることはほとんどないため、YがA、XがKを持っているケースはYにとってフルベットの価値があります。

なぜなら、ポットが1以下の場合、YはQをブラフして損をし、Xはハンドの半分を占めるAでCallするからです。XがKをFoldするとYはポットを獲得し、XがAでCallするとフルベットを失うので、XがKをすべてFoldした場合でも、ブラフは常に損をします。その時点でゲーム全体が変わります。ポットが無限大から $1$ に近づくにつれ、ブラフの比率は上昇します。$2$ だと $\frac13$ 、 $1.5$ だと $\frac25$ 、 $1.1$ だと $\frac{10}{11}$ 、そしてちょうど $1$ になると、Yはブラフをしなくなります。

グラフを使って、ポットの大きさの変化に伴うゲームの期待値を見ることもできます。グラフが $P = 1$ で突然変化していることに注目してください。Yはブラフを全くしなかったですが、ハンドの半分をブラフするようになりました。これは、ブラフと同様に、コールも突然混合戦略になるためです。このポットサイズ以下では、どちらの側もブラフをコールもしません。相手の分布ではAの頻度が高いので、これを利用することはできません。また、大きなポットサイズになると、Xは頻繁にコールしなければいけませんが、Yはブラフをする頻度が低くなるため、ポットサイズが大きくなるにつれてYに有利になります。

![optimal-strategy-for-the-limit-akq-game-by-pot-size](/resources/img/chapter13/optimal-strategy-for-the-limit-akq-game-by-pot-size.png)

ここでの重要な教訓は、ポットの大きさを変えると、プレーヤーの戦略とエクイティに影響を与えるということです。また、特定のポットサイズのゲームを解くことは、任意のポットサイズのゲームを解くのと同じくらい簡単であることが多いです。今後、議論に必要でない限り、特定のポットサイズのゲームを解くことは避け、単にポットサイズが $P$ のゲームとして扱うようにします。
